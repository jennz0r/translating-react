<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/react.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/qtcreator_dark.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Translating React</h1>
					<img src="/lib/img/react.svg" alt="react logo" class="img-no-format" width="100px" height="100px"/>
					<p>by <a target="_blank" rel="noopener noreferrer" href="http://mochimachine.com/">Jennifer Wong</a> | <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/mybluewristband">@mybluewristband</a></p>
				</section>
				<section>
					<section data-background="/lib/img/whoru.gif">
						<h1 class="shadow">Who R U?</h1>
					</section>
					<section>
						<img src="/lib/img/horse.jpg" alt="react logo" class="img-no-format" width="400px" height="300px" />
						<img src="/lib/img/yak.jpg" alt="react logo" class="img-no-format" width="400px" height="300px" />
						<img src="/lib/img/eagle.jpg" alt="react logo" class="img-no-format" width="400px" height="300px" />
						<img src="/lib/img/camel.jpg" alt="react logo" class="img-no-format" width="400px" height="300px" />
					</section>
					<section data-background="/lib/img/envoy-lights.jpg"></section>
					<section>
						<div>
							<h1>Envoy</h1>
							<h3>We're <a target="_blank" rel="noopener noreferrer" href="https://envoy.com/jobs/">hiring</a>!</h3>
						</div>
					</section>
					<section data-background="/lib/img/dogs.png"></section>
				</section>

				<section>
					<section>
						<h1>A Little Story</h1>
						<p>About switching frameworks</p>
					</section>
					<section data-background="/lib/img/excited.gif">
						<h2 class="shadow">OMG REACT!</h2>
					</section>
					<section data-background="/lib/img/what-is-that2.gif">
					</section>
					<section data-background="/lib/img/components.gif">
						<h1 class="shadow">COMPONENTS!</h1>
					</section>
					<section data-background="/lib/img/what-is-that.gif">
					</section>
					<section>
						<img src="/lib/img/nothing-stops-this-train.gif" class="img-no-format" width="1000px"/>
					</section>
				</section>
				<section>
					<section>
						<h1>What even is React?</h1>
						<img src="/lib/img/react.svg" alt="react logo" class="img-no-format" width="100px" height="100px"/>
					</section>
					<section>
						<h2><a target="_blank" rel="noopener noreferrer" href="https://reactjs.org/">ReactJS</a></h2>
					</section>
					<section>
						<p>Add a screenshot of React's website; Maybe mention that they do actually have helpful documentation but that can be overwhelming to n00bs.</p>
					</section>
					<section>
						<h3>A JavaScript library for building user interfaces</h3>
					</section>
					<section>
						<h3>Declarative</h3>
						<p>React will efficiently update and render just the right components when your data changes.</p>
						<p>Declarative views make your code <span class="fragment highlight-blue">more predictable and easier to debug</span>.</p>
						<aside class="notes">SOME NOTES GO HERE</aside>
					</section>
					<section data-background="/lib/img/not-bad.gif">
					</section>
					<section>
						<h3>Component-Based</h3>
						<p>Build encapsulated <span class="fragment highlight-blue">components</span> that manage their own state, then compose them to make complex UIs.</p>
					</section>
					<section data-background="lib/img/components-lego.gif">
						<aside class="notes">gif by @chrisgannon</aside>
					</section>
					<section>
						<h3>Learn Once, Write Anywhere</h3>
						<p>We donâ€™t make assumptions about the rest of your technology stack, so you can develop new features in React without rewriting existing code.</p>
						<p>React can also render on the server using Node and power mobile apps using React Native.</p>
					</section>
					<section data-background="/lib/img/shrug.gif">
						<h2 class="shadow">OKAY..</h2>
					</section>
					<section data-background="/lib/img/without-rewriting.png">
					</section>
					<section>
						<h2>BUT..</h2>
						<p class="fragment current-visible">I'm rewriting existing code RIGHT NOW.</p>
					</section>
					<section data-background="/lib/img/ok.gif">
					</section>
					<section data-background="/lib/img/typing.gif">
					</section>
				</section>

				<section>
					<section>
						<h1>What's confusing?</h1>
						<img src="/lib/img/react.svg" alt="react logo" class="img-no-format" width="100px" height="100px"/>
					</section>
					<section>
						<p>Honestly, sometimes I forget that React is actually just JavaScript.</p>
					</section>
					<section data-background="/lib/img/components.gif">
						<h1 class="shadow">COMPONENTS!</h1>
					</section>
					<section data-background="/lib/img/jsx.gif">
						<h1 class="shadow">JSX!</h1>
						<aside class="notes">gif by @ryanseslow</aside>
					</section>
					<section>
						<h1 class="shadow">VIRTUAL DOM</h1>
						<a href="https://reactjs.org/docs/faq-internals.html">virtual dom on react docs</a>
					</section>
					<section>
						<h1>React</h1>
						<p class="fragment current-visible"><a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/659a29cecf74301532354261369e9048aac6e20f/packages/react/src/React.js">GitHub</a></p>
					</section>
					<section>
						<p>ADD SOME SCREENSHOTS OF REACT CODE BASE YAY</p>
						<p>Say some thing about React being open source and available etc.</p>
					</section>
					<section>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							import ReactVersion from 'shared/ReactVersion';
							import {
								REACT_ASYNC_MODE_TYPE,
								REACT_FRAGMENT_TYPE,
								REACT_PROFILER_TYPE,
								REACT_STRICT_MODE_TYPE,
								REACT_PLACEHOLDER_TYPE,
							} from 'shared/ReactSymbols';
							import {enableSuspense} from 'shared/ReactFeatureFlags';

							import {Component, PureComponent} from './ReactBaseClasses';
							import {createRef} from './ReactCreateRef';
							import {forEach, map, count, toArray, only} from './ReactChildren';
							import {
								createElement,
								createFactory,
								cloneElement,
								isValidElement,
							} from './ReactElement';
							import {createContext} from './ReactContext';
							import forwardRef from './forwardRef';
							import {
								createElementWithValidation,
								createFactoryWithValidation,
								cloneElementWithValidation,
							} from './ReactElementValidator';
							import ReactSharedInternals from './ReactSharedInternals';

							const React = {
								Children: {
									map,
									forEach,
									count,
									toArray,
									only,
								},

								createRef,
								Component,
								PureComponent,

								createContext,
								forwardRef,

								Fragment: REACT_FRAGMENT_TYPE,
								StrictMode: REACT_STRICT_MODE_TYPE,
								unstable_AsyncMode: REACT_ASYNC_MODE_TYPE,
								unstable_Profiler: REACT_PROFILER_TYPE,

								createElement: __DEV__ ? createElementWithValidation : createElement,
								cloneElement: __DEV__ ? cloneElementWithValidation : cloneElement,
								createFactory: __DEV__ ? createFactoryWithValidation : createFactory,
								isValidElement: isValidElement,

								version: ReactVersion,

								__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: ReactSharedInternals,
							};

							if (enableSuspense) {
								React.Placeholder = REACT_PLACEHOLDER_TYPE;
							}

							export default React;
						</code></pre>
					</section>
					<section>
						<h3>This is literally all <a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/659a29cecf74301532354261369e9048aac6e20f/packages/react/src/React.js#L36-L65">React</a> is.</h3>
					</section>
					<section data-background="/lib/img/not-so-scary2.gif">
					</section>
					<section>
						<h3>react/packages/react/src/React.js</h3>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							import ReactVersion from 'shared/ReactVersion';
							import { ... } from 'shared/ReactSymbols';
							import { ... } from 'shared/ReactFeatureFlags';
							import { ... } from './ReactBaseClasses';
							import { ... } from './ReactCreateRef';
							import { ... } from './ReactChildren';
							import { ... } from './ReactElement';
							import { ... } from './ReactContext';
							import { ... } from './forwardRef';
							import { ... } from './ReactElementValidator';
							import ReactSharedInternals from './ReactSharedInternals';
						</code></pre>
					</section>
					<section>
						<h3>react/packages/react/src/React.js</h3>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							const React = {
								Children: {
									map,
									forEach,
									count,
									toArray,
									only,
								},

								createRef,
								Component,
								PureComponent,

								createContext,
								forwardRef,

								Fragment: REACT_FRAGMENT_TYPE,
								StrictMode: REACT_STRICT_MODE_TYPE,
								unstable_AsyncMode: REACT_ASYNC_MODE_TYPE,
								unstable_Profiler: REACT_PROFILER_TYPE,

								createElement: __DEV__ ? createElementWithValidation : createElement,
								cloneElement: __DEV__ ? cloneElementWithValidation : cloneElement,
								createFactory: __DEV__ ? createFactoryWithValidation : createFactory,
								isValidElement: isValidElement,

								version: ReactVersion,

								__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: ReactSharedInternals,
							};
						</code></pre>
					</section>
					<section>
						<h2>IT'S JUST AN OBJECT!</h2>
					</section>
					<section>
						<p>Now that we know what React is, let's look at the basis of React</p>
					</section>
				</section>

				<section>
					<section>
						<h1>React Elements</h1>
					</section>
					<section>
						<h2>JavaScript</h2>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							const rootElement = document.getElementById('root');
							const element = document.createElement('div');
							element.textContent = "Always together, never div-ided";
							element.className = "protest-div";
							rootElement.appendChild(element);
						</code></pre>
					</section>
					<section>
						<h2>React</h2>
						<p>ADD ROOT ELEMENT CREATION TO THIS SLIDE AND NEXT SLIDE!</p>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							const element = React.createElement(
								'div',
								{
									className: 'protest-div',
									children: [
										"Always together, never div-ided",
										"Uh huh!"
									]
								},
								// Optionally add children as a number of arguments here.
							);
							ReactDOM.render(element, rootElement);
						</code></pre>
					</section>
					<section>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							const rootElement = document.getElementById('root');
							const element = document.createElement('div');
							element.textContent = "Always together, never div-ided";
							element.className = "protest-div";
							rootElement.appendChild(element);
						</code></pre>
						<br>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							const element = React.createElement(
								'div',
								{
									className: 'protest-div',
									children: [
										"Always together, never div-ided",
										"Uh huh!"
									]
								},
								// Optionally add children as a number of arguments here.
							);
							ReactDOM.render(element, rootElement);
						</code></pre>
					</section>
					<section>
						<h3>Well, if that's the case, why'd they make it?</h3>
					</section>
					<section>
						<h2>React.createElement</h2>
						<p class="fragment current-visible">Where's it come from?</p>
					</section>
					<section>
						<h2><a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/659a29cecf74301532354261369e9048aac6e20f/packages/react/src/React.js#L21-L26">react/src/React.js</a></h2>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							import {
								createElement,
								createFactory,
								cloneElement,
								isValidElement,
							} from './ReactElement';
						</code></pre>
					</section>
					<section>
						<h3>react/packages/react/src/React.js</h3>
						<h4>to</h4>
						<h3>react/packages/react/src/ReactElement.js</h3>
					</section>
					<section>
						<h2>createElement in ReactElement.js</h2>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							export function createElement(type, config, children) {
								let propName;

								// Reserved names are extracted
								const props = {};

								let key = null;
								let ref = null;
								let self = null;
								let source = null;

								if (config != null) {
									if (hasValidRef(config)) {
										ref = config.ref;
									}
									if (hasValidKey(config)) {
										key = '' + config.key;
									}

									self = config.__self === undefined ? null : config.__self;
									source = config.__source === undefined ? null : config.__source;
									// Remaining properties are added to a new props object
									for (propName in config) {
										if (
											hasOwnProperty.call(config, propName) &&
											!RESERVED_PROPS.hasOwnProperty(propName)
										) {
											props[propName] = config[propName];
										}
									}
								}

								// Children can be more than one argument, and those are transferred onto
								// the newly allocated props object.
								const childrenLength = arguments.length - 2;
								if (childrenLength === 1) {
									props.children = children;
								} else if (childrenLength > 1) {
									const childArray = Array(childrenLength);
									for (let i = 0; i < childrenLength; i++) {
										childArray[i] = arguments[i + 2];
									}
									if (__DEV__) {
										if (Object.freeze) {
											Object.freeze(childArray);
										}
									}
									props.children = childArray;
								}

								// Resolve default props
								if (type && type.defaultProps) {
									const defaultProps = type.defaultProps;
									for (propName in defaultProps) {
										if (props[propName] === undefined) {
											props[propName] = defaultProps[propName];
										}
									}
								}
								if (__DEV__) {
									if (key || ref) {
										if (
											typeof props.$$typeof === 'undefined' ||
											props.$$typeof !== REACT_ELEMENT_TYPE
										) {
											const displayName =
												typeof type === 'function'
													? type.displayName || type.name || 'Unknown'
													: type;
											if (key) {
												defineKeyPropWarningGetter(props, displayName);
											}
											if (ref) {
												defineRefPropWarningGetter(props, displayName);
											}
										}
									}
								}
								return ReactElement(
									type,
									key,
									ref,
									self,
									source,
									ReactCurrentOwner.current,
									props,
								);
							}
						</code></pre>
					</section>
					<section>
						<h2>createElement</h2>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							export function createElement(type, config, children) {
						</code></pre>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							return ReactElement (
								type,
								key,
								ref,
								self,
								source,
								ReactCurrentOwner.current,
								props,
							);
						</code></pre>
					</section>

					<section>
						<h2>So.. what's a ReactElement?</h2>
					</section>
					<section>
						<h2>ReactElement in ReactElement.js</h2>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							/**
							 * Factory method to create a new React element. This no longer adheres to
							 * the class pattern, so do not use new to call it. Also, no instanceof check
							 * will work. Instead test $$typeof field against Symbol.for('react.element') to check
							 * if something is a React Element.
							 *
							 * @param {*} type
							 * @param {*} key
							 * @param {string|object} ref
							 * @param {*} self A *temporary* helper to detect places where `this` is
							 * different from the `owner` when React.createElement is called, so that we
							 * can warn. We want to get rid of owner and replace string `ref`s with arrow
							 * functions, and as long as `this` and owner are the same, there will be no
							 * change in behavior.
							 * @param {*} source An annotation object (added by a transpiler or otherwise)
							 * indicating filename, line number, and/or other information.
							 * @param {*} owner
							 * @param {*} props
							 * @internal
							 */
						</code></pre>
					</section>
					<section>
						<h2>ReactElement in ReactElement.js</h2>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							const ReactElement = function(type, key, ref, self, source, owner, props) {
								const element = {
									// This tag allows us to uniquely identify this as a React Element
									$$typeof: REACT_ELEMENT_TYPE,

									// Built-in properties that belong on the element
									type: type,
									key: key,
									ref: ref,
									props: props,

									// Record the component responsible for creating this element.
									_owner: owner,
								};

								if (__DEV__) {
									// The validation flag is currently mutative. We put it on
									// an external backing store so that we can freeze the whole object.
									// This can be replaced with a WeakMap once they are implemented in
									// commonly used development environments.
									element._store = {};

									// To make comparing ReactElements easier for testing purposes, we make
									// the validation flag non-enumerable (where possible, which should
									// include every environment we run tests in), so the test framework
									// ignores it.
									Object.defineProperty(element._store, 'validated', {
										configurable: false,
										enumerable: false,
										writable: true,
										value: false,
									});
									// self and source are DEV only properties.
									Object.defineProperty(element, '_self', {
										configurable: false,
										enumerable: false,
										writable: false,
										value: self,
									});
									// Two elements created in two different places should be considered
									// equal for testing purposes and therefore we hide it from enumeration.
									Object.defineProperty(element, '_source', {
										configurable: false,
										enumerable: false,
										writable: false,
										value: source,
									});
									if (Object.freeze) {
										Object.freeze(element.props);
										Object.freeze(element);
									}
								}

								return element;
							};
						</code></pre>
					</section>
					<section>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							const element = {
								// This tag allows us to uniquely identify this as a React Element
								$$typeof: REACT_ELEMENT_TYPE,

								// Built-in properties that belong on the element
								type: type,
								key: key,
								ref: ref,
								props: props,

								// Record the component responsible for creating this element.
								_owner: owner,
							};
						</code></pre>
					</section>
					<section>
						<p>OH IT'S JUST ANOTHER OBJECT.</p>
					</section>






					<section>
						<h3>Wow, that's a lot of stuff!</h3>
						<p>Why?</p>
					</section>
					<section>
					</section>
					<section>
					</section>
					<section>
						<h3>Finally! We made it to JSX!</h3>
					</section>
				</section>
				<section>
					<section>
						<h1>JSX</h1>
					</section>
					<section data-background="lib/img/ooo.gif"></section>
					<section>
						<p>Maybe make a joke about PHP</p>
						<p>Using all the power of a code language in a template (?)</p>
					</section>
					<section>
						<a target="_blank" rel="noopener noreferrer" href="http://jsx.github.io/">JSX</a>
					</section>
					<section>
						<p>JSX stands for JavaScript XML. With React, it's an extension for XML-like code for elements and components. Per the React docs and as you mentioned: JSX is a XML-like syntax extension to ECMAScript without any defined semantics.</p>
						<p>Each JSX element is just syntactic sugar for calling React.createElement(component, props, ...children). So, anything you can do with JSX can also be done with just plain JavaScript.</p>
					</section>
					<section>
						<p>React comes with the default set of syntax-transformers that ship with Babel.</p>
					</section>
					<section>
						<h2>Show some transpiled JSX</h2>
						<a href="https://babeljs.io/repl/#?presets=react&code_lz=GYVwdgxgLglg9mABACwKYBt1wBQEpEDeAUIogE6pQhlIA8AJjAG4B8AEhlogO5xnr0AhLQD0jVgG4iAXyJA">Babel</a>
					</section>
					<section>
						<h2>Protected Words</h2>
						<p>Since JSX is closer to JavaScript than to HTML, React DOM uses camelCase property naming convention instead of HTML attribute names.</p>
						<p>For example, class becomes className in JSX, and tabindex becomes tabIndex.</p>
					</section>
					<section>
						<h2>CURLY BRACES</h2>
						<p>It's JavaScript world! But inside JSX land!</p>
					</section>
				</section>

				<section>
					<section>
						<h1>React COMPONENT</h1>
						<a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/659a29cecf74301532354261369e9048aac6e20f/packages/react/src/React.js#L18">React Import from ReactBaseClasses</a>
						<a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/659a29cecf74301532354261369e9048aac6e20f/packages/react/src/ReactBaseClasses.js">React Base Classes in GitHub</a>
					</section>
					<section>
						<h3>React.Component</h3>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							function Component(props, context, updater) {
								this.props = props;
								this.context = context;

								// If a component has string refs,
								// we will assign a different object later.
								this.refs = emptyObject;

								// We initialize the default updater but
								// the real one gets injected by therenderer.
								this.updater = updater || ReactNoopUpdateQueue;
							}
						</code></pre>
					</section>
					<section>
						<h3>React.PureComponent</h3>
						<pre><code class="javascript" data-trim data-noescape contenteditable>
							function PureComponent(props, context, updater) {
								this.props = props;
								this.context = context;

								// If a component has string refs,
								// we will assign a different object later.
								this.refs = emptyObject;
								this.updater = updater || ReactNoopUpdateQueue;
							}
						</code></pre>
					</section>
					<section>
						<p>ADD INFO </p>
					</section>
					<section data-background="lib/img/props.gif">
						<aside class="notes">https://kinardist-media.com/ @the_kinardist</aside>
					</section>
					<section data-background="lib/img/props-tupac.gif">
						<p>Gimme my props!</p>
					</section>
				</section>

				<section>
					<section>
						<h1>React DOM</h1>
					</section>
					<section>
						<h2>Now that we have something, let's render it to the DOM</h2>
					</section>
				</section>

				<section>
					<section>
						<h1>Secrets?</h1>
						<p>__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED</p>
						<a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/659a29cecf74301532354261369e9048aac6e20f/packages/shared/ReactSharedInternals.js">React Shared Internals?</a>
						https://github.com/facebook/react/blob/659a29cecf74301532354261369e9048aac6e20f/packages/react/src/React.js#L64

						https://github.com/facebook/react/pull/13201
					</section>
					<section>

						<a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/master/packages/react/src/ReactSharedInternals.js">ReactSharedInternals</a><br>
						<a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/blob/master/packages/react/src/ReactCurrentOwner.js">ReactCurrentOwner</a><br>
						<a target="_blank" rel="noopener noreferrer" href=""></a><br>
						<a target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/react/tree/master/packages/react-reconciler">react-reconciler</a>
					</section>
					<section>
						<h2>react-reconciler</h2>
						<p>This is an experimental package for creating custom React renderers.</p>
						<p>Its API is not as stable as that of React, React Native, or React DOM, and does not follow the common versioning scheme.</p>
						<p>Use it at your own risk.</p>
					</section>
				</section>

				<section>
					<section data-background="/lib/img/ready.gif">
					</section>
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { 
							hljs.initHighlightingOnLoad();
							hljs.configure({tabReplace: '  '});
						}
					}
				]
			});
		</script>
	</body>
</html>
